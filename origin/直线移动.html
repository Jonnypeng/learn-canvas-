<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Ch4BaseFile - Template For Chapter 4 Examples</title>
		<script src="//cdn.bootcss.com/modernizr/2010.07.06dev/modernizr.min.js"></script>
		<script type="text/javascript">
window.addEventListener('load', eventWindowLoaded, false);

function eventWindowLoaded() {
	canvasApp();
};

function canvasApp(){
	if (!canvasSupport()) { return;
	}else{
		var theCanvas = document.getElementById("canvas");
		canvas.style.border="1px solid gray";
		var context = theCanvas.getContext("2d");
	};
	
	var sx = 0;
	var dx = 0;
	gameLoop();
	function gameLoop(){
		sx++;
		dx++;
		sx=sx%510;
		dx=dx%510;
		setTimeout(gameLoop,20);
		drawScreen(sx,dx);
	};
	function drawScreen(sx,dx){
		context.clearRect(0,0,theCanvas.width,theCanvas.height);
	context.beginPath();
	context.strokeStyle="gray";
	context.lineWidth="5";
	context.moveTo(0,250);
	context.lineTo(dx,250);
	context.stroke();
	context.closePath();
	context.beginPath();
	context.fillStyle = "black";
	context.arc(sx,250,20,0*Math.PI/180,360*Math.PI/180,true);
	context.fill();
	context.closePath();
	};
};

function canvasSupport () {return Modernizr.canvas;}

		</script>
	</head>
	<body>
		<div style="position: absolute; top: 50px; left: 50px;"> <canvas id="canvas" width="500" height="500">
				Your browser does not support HTML5 Canvas.
			</canvas>
		</div>
	</body>
</html>
